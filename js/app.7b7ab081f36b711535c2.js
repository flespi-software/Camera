webpackJsonp([3],{"+nwc":function(e,t){},0:function(e,t,n){e.exports=n("nplA")},1:function(e,t){},2:function(e,t){},"2pVi":function(e,t){e.exports={services:{platform:{fields:{customer:["id","name","email","notify"],accounts:["id","key","provider"],tokens:["id","key","info","expire","ttl","accessed","ips","access"],counters:["counters"]},name:"Platform",icon:"swap_vert",url:"/platform",schema:null},gw:{fields:{protocols:["id","name","description","commands","message_parameters","configuration"],channels:["id","name","uri","protocol_id","protocol_name","messages_ttl","commands_ttl","enabled","configuration","messages_size","commands_size","connections_count"],logs:["channel_id","command_id","command_payload","duration","event","ident","msgs","recv","send","source","time"],connections:["id","channel_id","ident","ip","established"],modems:["id","name","enabled","connected","configuration","priority"],devicetypes:["id","name","title","protocol_name"],devices:["id","name","phone","ident","device_type_id","telemetry","messages_size","messages_ttl","blocked","connected","settings"],streams:["id","name","queue_size","queue_ttl","configuration","connected","blocked","enabled"],subscriptions:["id","stream_id","channel_id","device_id"],settings:["name","device_id","updated","schema","current","pending","address","tab","mode"]},name:"Gateway",icon:"",url:"/gw",schema:null},storage:{fields:{containers:["id","name","flags","size","blocked","parameters"],abques:["id","name","size","blocked"],cdns:["id","name","size","blocked"],files:["uuid","name","size","blocked","mime","expires","created","cdn_id","auto_ttl"]},name:"Storage",icon:"",url:"/storage",schema:null},auth:{name:"Auth api",icon:"",url:"/auth",schema:null}},add:{tokens:{serviceName:"platform",schemaName:{post:"token.post",put:"token.put"},title:"Token",counter:["api","tokens"],post:"/platform/customer/tokens",put:"/platform/customer/tokens/{id}",delete:"/platform/customer/tokens/{id}",get:"getTokens"},channels:{counter:["channels","count"],serviceName:"gw",schemaName:{post:"channel.post",put:"channel.put"},title:"Channel",post:"/gw/channels",put:"/gw/channels/{id}",delete:"/gw/channels/{id}",get:"getChannels"},devices:{counter:["devices","count"],serviceName:"gw",schemaName:{post:"device.post",put:"device.put"},title:"Device",post:"/gw/devices",put:"/gw/devices/{id}",delete:"/gw/devices/{id}",get:"getDevices"},streams:{counter:["streams","count"],serviceName:"gw",schemaName:{post:"stream.post",put:"stream.put"},title:"Stream",post:"/gw/streams",put:"/gw/streams/{id}",delete:"/gw/streams/{id}",get:"getStreams"},modems:{counter:["modems","count"],serviceName:"gw",schemaName:{post:"modem.post",put:"modem.put"},title:"Modem",post:"/gw/modems",put:"/gw/modems/{id}",delete:"/gw/modems/{id}",get:"getModems"},containers:{counter:["containers","count"],serviceName:"storage",schemaName:{post:"container.post",put:"container.put"},title:"Container",post:"/storage/containers",put:"/storage/containers/{id}",delete:"/storage/containers/{id}",get:"getContainers"},abques:{counter:["abques","count"],serviceName:"storage",schemaName:{post:"abque.post",put:"abque.put"},title:"Abque",post:"/storage/abques",put:"/storage/abques/{id}",delete:"/storage/abques/{id}",get:"getAbques"},cdns:{counter:["cdns","count"],serviceName:"storage",schemaName:{post:"cdn.post",put:"cdn.put"},title:"CDN",post:"/storage/cdns",put:"/storage/cdns/{id}",delete:"/storage/cdns/{id}",get:"getCdns"}},modules:{tokens:{to:{path:"/panel/list/tokens",exact:!0},icon:"mdi-fingerprint",label:"Tokens",counter:["api","tokens"]},separator1:{type:"separator"},hub:{label:"Telematics Hub",icon:"mdi-sitemap",group:"main",opened:!0,childrens:{channels:{to:{path:"/panel/list/channels",exact:!0},icon:"mdi-call-merge",label:"Channels",counter:["channels","count"],tile:!0},devices:{to:{path:"/panel/list/devices",exact:!0},icon:"mdi-developer-board",label:"Devices",counter:["devices","count"],tile:!0},streams:{to:{path:"/panel/list/streams",exact:!0},icon:"mdi-call-split",label:"Streams",counter:["streams","count"],tile:!0},modems:{to:{path:"/panel/list/modems",exact:!0},icon:"router",label:"Modems",counter:["modems","count"],tile:!0},separator1:{type:"separator"},header1:{type:"header",label:"Utilities"},graph:{to:{path:"/panel/graph",exact:!0},icon:"mdi-vector-triangle",tile:!1,label:"Graph"},toolbox:{external:{url:"/toolbox/#/token/{token}/group/hub",title:"Telematics Hub Toolbox"},icon:"mdi-cube-outline",label:"Toolbox",uri:"https://toolbox.flespi.io/#/token/{token}/group/hub"},trackit:{external:{url:"/trackit/#/login/{token}",title:"Trackit"},icon:"map",label:"Track It!",uri:"https://trackit.flespi.io/#/login/{token}"}}},separator2:{type:"separator"},storage:{label:"Storage",icon:"mdi-database",group:"main",childrens:{containers:{to:{path:"/panel/list/containers",exact:!0},icon:"featured_play_list",label:"Containers",counter:["containers","count"],tile:!0},abques:{to:{path:"/panel/list/abques",exact:!0},icon:"reorder",label:"Abques",counter:["abques","count"],tile:!0},cdns:{to:{path:"/panel/list/cdns",exact:!0},icon:"mdi-harddisk",label:"CDN",counter:["cdns","count"],tile:!0},separator1:{type:"separator"},header1:{type:"header",label:"Utilities"},toolbox:{external:{url:"/toolbox/#/token/{token}/group/storage",title:"Storage Toolbox"},icon:"mdi-cube-outline",label:"Toolbox",uri:"https://toolbox.flespi.io/#/token/{token}/group/storage"}}},separator:{type:"separator"},mqtt:{label:"MQTT",icon:"mdi-access-point-network",group:"main",childrens:{header1:{type:"header",label:"Utilities"},toolbox:{external:{url:"/toolbox/#/token/{token}/group/mqtt",title:"MQTT Toolbox"},icon:"mdi-cube-outline",label:"Toolbox",uri:"https://toolbox.flespi.io/#/token/{token}/group/mqtt"}}},separator4:{type:"separator"},docs:{external:{url:"/docs",title:"Documentation"},icon:"chrome_reader_mode",label:"Documentation",uri:"/docs"}},token:"",server:""}},3:function(e,t){},"3Puz":function(e,t){},4:function(e,t){},5:function(e,t){},JsEP:function(e,t){},N12Q:function(e,t){},R58i:function(e,t){},UjVw:function(e,t){},mUbh:function(e,t){},nplA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};n.d(o,"logError",function(){return Q}),n.d(o,"clearLog",function(){return D}),n.d(o,"clearErrorCounter",function(){return M}),n.d(o,"getListData",function(){return A}),n.d(o,"getChannels",function(){return L}),n.d(o,"getProtocols",function(){return P}),n.d(o,"getDevices",function(){return z}),n.d(o,"getTokens",function(){return E}),n.d(o,"getCustomer",function(){return O}),n.d(o,"getCounters",function(){return V}),n.d(o,"getAccounts",function(){return H}),n.d(o,"getStreams",function(){return I}),n.d(o,"getModems",function(){return U}),n.d(o,"getContainers",function(){return F}),n.d(o,"getAbques",function(){return R}),n.d(o,"getCdns",function(){return X}),n.d(o,"getConnections",function(){return Y}),n.d(o,"getFiles",function(){return G}),n.d(o,"getSubscriptions",function(){return B}),n.d(o,"getDeviceTypes",function(){return J}),n.d(o,"getOauthProviders",function(){return W}),n.d(o,"setToken",function(){return $}),n.d(o,"setFilter",function(){return K}),n.d(o,"getSettings",function(){return Z}),n.d(o,"clearSetting",function(){return ee}),n.d(o,"getData",function(){return te}),n.d(o,"loginRedirect",function(){return ne}),n.d(o,"setSelectedIds",function(){return oe}),n.d(o,"onError",function(){return se});var s=n("Dd8w"),i=n.n(s),r=(n("30VO"),n("/5sW")),a=n("7109");r.a.use(a.B,{components:{QLayout:a.p,QLayoutHeader:a.r,QLayoutDrawer:a.q,QPageContainer:a.w,QPage:a.v,QToolbar:a.x,QToolbarTitle:a.y,QBtn:a.e,QIcon:a.l,QList:a.s,QListHeader:a.t,QItem:a.m,QItemMain:a.n,QItemSide:a.o,QCard:a.f,QCardTitle:a.i,QCardMedia:a.h,QCardMain:a.g},directives:{Ripple:a.z},plugins:{Notify:a.d,Cookies:a.a,LocalStorage:a.c,Dialog:a.b}});n("L4dm"),n("59Iv"),n("hAPP"),n("3Puz"),n("N12Q");var c=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},l=[];c._withStripped=!0;var u=n("XyMi"),d=!1;var g=function(e){d||n("tHqv")},f=Object(u.a)({name:"App"},c,l,!1,g,null,null);f.options.__file="src/App.vue";var p=f.exports,m=n("/ocq"),v=[{path:"/",component:function(){return n.e(1).then(n.bind(null,"lfHO"))},children:[{path:"",component:function(){return n.e(0).then(n.bind(null,"2NXm"))}}]},{path:"*",component:function(){return n.e(2).then(n.bind(null,"c5Mg"))}}];r.a.use(m.a);var h,b,k=new m.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:v}),w=n("NYxO"),x=n("8+8L"),y=n("UjVw"),_=n("mUbh"),T=n("Xxa5"),q=n.n(T),C=n("exGp"),S=n.n(C),N=this,j=(h=S()(q.a.mark(function e(t,n,o,s,i,a,c){var l;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=c||!1,""===t.token){e.next=8;break}return e.next=4,r.a.connector.http.get(""+o+s);case 4:(l=e.sent)&&l.data&&l.data.result&&r.a.set(t.data,n,l.data.result),void 0!==a&&a(),this.onError(t,l,c);case 8:case"end":return e.stop()}},e,this)})),function(e,t,n,o,s,i,r){return h.apply(this,arguments)}),Q=function(e,t){e.errors.newcount++,e.errors.log.unshift({reason:t,time:a.A.formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss")})},D=function(e,t){e.errors.newcount=0,e.errors.log=[]},M=function(e){e.errors.newcount=0},A=function(e,t,n){switch(t){case"tokens":E(e,n);break;case"channels":L(e,n);break;case"devices":z(e,n);break;case"streams":I(e,n);break;case"modems":U(e,n);break;case"abques":R(e,n);break;case"containers":F(e,n);break;case"cdns":X(e,n);break;default:console.warn("Wrong GET type")}},L=function(e,t){var n={};n.fields=e.config.services.gw.fields.channels.join(","),j(e,"channels",e.config.server+e.config.services.gw.url,"/channels/all",n,t)},P=function(e,t){var n={};n.fields=e.config.services.gw.fields.protocols.join(","),j(e,"protocols",e.config.server+e.config.services.gw.url,"/protocols/all",n,t)},z=function(e,t){var n={};n.fields=e.config.services.gw.fields.devices.join(","),j(e,"devices",e.config.server+e.config.services.gw.url,"/devices/all",n,t)},E=function(e,t){var n={};n.fields=e.config.services.platform.fields.tokens.join(","),j(e,"tokens",e.config.server+e.config.services.platform.url,"/customer/tokens/all",n,t)},O=function(e,t){var n={};n.fields=e.config.services.platform.fields.customer.join(","),j(e,"customer",e.config.server+e.config.services.platform.url,"/customer",n,t)},V=function(e,t,n){var o={};o.fields=e.config.services.platform.fields.counters.join(","),j(e,"counters",e.config.server+e.config.services.platform.url,"/customer",o,t,n)},H=function(e,t){var n={};n.fields=e.config.services.platform.fields.accounts.join(","),j(e,"accounts",e.config.server+e.config.services.platform.url,"/customer/accounts/all",n,t)},I=function(e,t){var n={};n.fields=e.config.services.gw.fields.streams.join(","),j(e,"streams",e.config.server+e.config.services.gw.url,"/streams/all",n,t)},U=function(e,t){var n={};n.fields=e.config.services.gw.fields.modems.join(","),j(e,"modems",e.config.server+e.config.services.gw.url,"/modems/all",n,t)},F=function(e,t){var n={};n.fields=e.config.services.storage.fields.containers.join(","),j(e,"containers",e.config.server+e.config.services.storage.url,"/containers/all",n,t)},R=function(e,t){var n={};n.fields=e.config.services.storage.fields.abques.join(","),j(e,"abques",e.config.server+e.config.services.storage.url,"/abques/all",n,t)},X=function(e,t){var n={};n.fields=e.config.services.storage.fields.cdns.join(","),j(e,"cdns",e.config.server+e.config.services.storage.url,"/cdns/all",n,t)},Y=function(e,t,n){var o={};o.fields=e.config.services.gw.fields.connections.join(","),j(e,"connections",e.config.server+e.config.services.gw.url,"/channels/"+(t||"all")+"/connections/all",o,n)},G=function(e,t,n){var o={};o.fields=e.config.services.storage.fields.files.join(","),j(e,"files",e.config.server+e.config.services.storage.url,"/cdns/"+(t||"all")+"/files",o,n)},B=function(e,t,n){var o={};o.fields=e.config.services.gw.fields.subscriptions.join(","),j(e,"subscriptions",e.config.server+e.config.services.gw.url,"/streams/"+(t||"all")+"/subscriptions/all",o,n)},J=function(e,t){var n={};n.fields=e.config.services.gw.fields.devicetypes.join(","),j(e,"devicetypes",e.config.server+e.config.services.gw.url,"/protocols/all/device-types/all",n,t)},W=(b=S()(q.a.mark(function e(t,n){var o;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.connector.http.get(t.config.server+t.config.services.auth.url+"/oauth/providers");case 2:o=e.sent,t.oauthproviders=o.data.result[0];case 4:case"end":return e.stop()}},e,N)})),function(e,t){return b.apply(this,arguments)}),$=function(e,t){0===t.length?N.loginRedirect(e):t.indexOf("FlespiToken")>=0?(r.a.connector.token=t,r.a.set(e,"token",t)):(r.a.connector.token="FlespiToken "+t,r.a.set(e,"token","FlespiToken "+t))},K=function(e,t){e.filter=t},Z=function(e,t,n,o){var s={};n&&(e.data.settings=[]),t&&(s.fields=e.config.services.gw.fields.settings.join(","),j(e,"settings",e.config.server+e.config.services.gw.url,"/devices/"+(t||"all")+"/settings/all",s,o))},ee=function(e,t,n){t&&e.data.settings&&e.data.settings[t]&&r.a.set(e.data.settings[t],"current",null)},te=function(e){N.getCounters(e,function(){N.getCustomer(e),N.getAccounts(e),N.getChannels(e),N.getProtocols(e),N.getDevices(e),N.getTokens(e),N.getStreams(e),N.getSubscriptions(e),N.getModems(e),N.getDeviceTypes(e),N.getAbques(e),N.getContainers(e),N.getCdns(e)},!1)},ne=function(e){r.a.set(e,"token",""),a.a.remove("X-Flespi-Token"),k.push("/")},oe=function(e,t){e.selected_ids=t},se=function(e,t,n){if(n=n||!1,400===t.status||500===t.status||t.status,t.body&&t.body.errors)for(var o in t.body.errors)a.d.create("Error: "+t.body.errors[o].reason),n||N.logError(e,t.body.errors[o].reason);401===t.status&&N.loginRedirect(e)},ie=n("2pVi"),re=n.n(ie),ae={setValue:function(e,t){e[t.i][t.param]=t.value},getSchema:function(e,t){r.a.http.get(e.server+"/"+t+"/api.json",{}).then(function(n){e.services[t].schema=n.body},function(e){})}},ce={namespaced:!0,state:a.c.has("config")?a.c.get.item("config"):re.a,getters:{},actions:{getSchemas:function(e){e.commit("getSchema","platform"),e.commit("getSchema","gw"),e.commit("getSchema","storage"),e.commit("getSchema","auth")}},mutations:ae};r.a.use(x.a),r.a.use(w.a);var le=new w.a.Store({state:{errors:{newcount:0,log:[]},data:{channels:[],devices:[],streams:[],protocols:[],tokens:[],customer:[],accounts:[],connections:[],counters:[],subscriptions:[],modems:[],containers:[],abques:[],devicetypes:[],settings:[],cdns:[],files:[]},filter:"",selected_ids:[],oauthproviders:{},token:""},getters:y,actions:_,mutations:o,modules:{config:ce}});var ue=le,de=n("TXmL"),ge={en:{failed:"Action failed",success:"Action was successful"}},fe=n("LarL"),pe=n.n(fe),me={socketConfig:{clientId:"camera-"+Math.random().toString(16).substr(2,8)}};-1===window.location.host.indexOf("localhost:9004")&&-1===window.location.host.indexOf("localhost:9005")&&-1===window.location.host.indexOf("localhost:7050")||(me={httpConfig:{server:"https://localhost",port:9005},socketConfig:{server:"wss://localhost:9017",clientId:"toolbox-"+Math.random().toString(16).substr(2,8)}});var ve=n("v5o6"),he=n.n(ve);r.a.config.productionTip=!1;var be=i()({el:"#q-app",router:k,store:ue},p),ke=[];ke.push(function(e){var t=e.app;e.Vue.use(de.a),t.i18n=new de.a({locale:"en",fallbackLocale:"en",messages:ge})}),ke.push(function(e){e.Vue.use(x.a)}),ke.push(function(e){var t=e.Vue;t.config.productionTip=!1,t.use(pe.a,me)}),ke.forEach(function(e){return e({app:be,router:k,store:ue,Vue:r.a})}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){he.a.attach(document.body)},!1),new r.a(be)},tHqv:function(e,t){}},[0]);